"use strict";(self.webpackChunktool_box=self.webpackChunktool_box||[]).push([[850],{7850:(S,f,c)=>{c.r(f),c.d(f,{SpinningWheelComponent:()=>M});var m=c(1532),_=c(9631),h=c(9417),t=c(4438);const v=["canvas"];let M=(()=>{class d{constructor(){this.values=[],this.selectedValue=null,this.inputValues="",this.startAngle=0,this.spinAngle=0,this.isSpinning=!1,this.colors=["#3369e8","#d50f25","#eeb211","#009925"]}ngAfterViewInit(){this.context=this.canvasRef.nativeElement.getContext("2d"),this.drawWheel()}onValuesChanged(){this.values=(this.inputValues.split(/\r?\n|\r|\n/g)||[]).filter(n=>n),this.drawWheel()}drawWheel(){const n=this.canvasRef.nativeElement,e=this.context,s=2*Math.PI/this.values.length,o=n.width/2-2,a=n.height/2-2,l=n.width/2-2;e.clearRect(0,0,n.width,n.height),this.values.forEach((r,g)=>{const u=this.startAngle+g*s,p=u+s;e.beginPath(),e.moveTo(o,a),e.arc(o,a,l,u,p),e.fillStyle=this.colors[g%4],e.fill(),e.stroke(),e.save(),e.translate(o,a),e.rotate(u+s/2),e.textAlign="right",e.fillStyle="#fff",e.font="16px Arial",e.fillText(r,l-10,10),e.restore()}),this.drawStaticTriangle()}spin(){if(this.isSpinning)return;this.isSpinning=!0;const e=360*Math.random()+3600;let s,i=0;const a=l=>{s||(s=l);const g=Math.min((l-s)/5e3,1),u=(l=>l<.5?4*l*l*l:1-Math.pow(-2*l+2,3)/2)(g),p=e*u,C=p-i;i=p,this.startAngle=(this.startAngle+C*Math.PI/180)%(2*Math.PI),this.drawWheel(),g<1?requestAnimationFrame(a):(this.isSpinning=!1,this.determineSelectedValue(this.startAngle))};requestAnimationFrame(a)}drawStaticTriangle(){const n=this.canvasRef.nativeElement,e=this.context,l=n.width/2+n.width/2-15,r=n.height/2;e.fillStyle="white",e.beginPath(),e.moveTo(l,r),e.lineTo(l+30,r-15),e.lineTo(l+30,r+15),e.closePath(),e.fill()}determineSelectedValue(n){const e=this.values.length,i=2*Math.PI/e,s=Math.floor((2*Math.PI-n)/i)%e;this.selectedValue=this.values[s]}static#e=this.\u0275fac=function(e){return new(e||d)};static#t=this.\u0275cmp=t.VBU({type:d,selectors:[["app-spinning-wheel"]],viewQuery:function(e,i){if(1&e&&t.GBs(v,5),2&e){let s;t.mGM(s=t.lsd())&&(i.canvasRef=s.first)}},standalone:!0,features:[t.aNF],decls:12,vars:2,consts:[["canvas",""],[1,"row"],[1,"col-lg-8","col-md-12","col-sm-12","wheel-container"],["id","wheel","width","600","height","600",3,"click"],[1,"col-lg-4","col-md-12","col-sm-12"],["for","entries"],[1,"w-100"],["matInput","","id","entries","rows","25",3,"ngModelChange","ngModel"]],template:function(e,i){if(1&e){const s=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"canvas",3,0),t.bIt("click",function(){return t.eBV(s),t.Njj(i.spin())}),t.k0s()(),t.j41(4,"div",4)(5,"label",5),t.EFF(6,"Entries:"),t.k0s(),t.j41(7,"mat-form-field",6)(8,"textarea",7),t.mxI("ngModelChange",function(a){return t.eBV(s),t.DH7(i.inputValues,a)||(i.inputValues=a),t.Njj(a)}),t.bIt("ngModelChange",function(){return t.eBV(s),t.Njj(i.onValuesChanged())}),t.k0s()()()(),t.j41(9,"div")(10,"p"),t.EFF(11),t.k0s()()}2&e&&(t.R7$(8),t.R50("ngModel",i.inputValues),t.R7$(3),t.SpI("Selected Value: ",i.selectedValue,""))},dependencies:[m.rl,_.fg,h.X1,h.me,h.BC,h.YN,h.vS],styles:[".wheel-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}canvas[_ngcontent-%COMP%]{border-radius:50%;margin-bottom:20px}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#28a745;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}"]})}return d})()}}]);