<div class="side-menu-container">
  <!-- Brand/Logo Section -->
  <div class="sidebar-brand">
    <h3>ToolBox</h3>
    <p>Modern Developer Tools</p>
  </div>

  <!-- Menu Items -->
  @for (menuGroup of menu; track menuGroup.name; let i = $index) {
    <div class="side-menu-item">
      <button 
        class="menu-group-header"
        type="button" 
        data-bs-toggle="collapse" 
        [attr.data-bs-target]="'#menu-' + i"
        [attr.aria-expanded]="menuGroup.isExpanded"
        [attr.aria-controls]="'menu-' + i" 
        (click)="menuGroup.isExpanded = !menuGroup.isExpanded">
        <i class="fa fa-angle-right" aria-hidden="true"></i>
        {{ menuGroup.name }}
      </button>

      @if (menuGroup.items) {
        <div class="collapse" [class.show]="menuGroup.isExpanded" [id]="'menu-' + i">
          @for (subItem of menuGroup.items; track subItem.name) {
            <div class="side-menu-sub-item" (click)="onMenuClick(subItem.routerLink)">
              @if (subItem.icon) {
                <img [ngSrc]="subItem.icon" [alt]="subItem.name" width="20" height="20" priority>
              }
              <span class="menu-name">{{ subItem.name }}</span>
            </div>
          }
        </div>
      }
    </div>
    
    <!-- Add divider between sections -->
    @if (i < menu.length - 1) {
      <div class="menu-section-divider"></div>
    }
  }
</div>
