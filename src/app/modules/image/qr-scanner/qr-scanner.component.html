<app-page-header header="QR Scanner" description="Scan QR Code"></app-page-header>

<div class="row">
  <div>
    <!-- Camera-based QR Scanner -->
    <zxing-scanner
      (scanSuccess)="onCodeScanned($event)"
    ></zxing-scanner>
    <button (click)="toggleCamera()">
      {{ cameraEnabled ? 'Stop Camera' : 'Start Camera' }}
    </button>

    <hr/>

    <!-- File Upload for QR Scanning -->
    <h4>Upload QR Image</h4>
    <input type="file" (change)="onFileSelected($event)"/>

    <hr/>

    <!-- Display scanned content -->
    <h3>Scanned Content:</h3>
    <div class="col-12">
      <mat-form-field class="w-100">
        <input matInput class="text-white" [value]="scannedContent || 'No content scanned yet.'" disabled spellcheck="false"/>
        <button mat-icon-button matSuffix (click)="copyString(scannedContent)" [attr.aria-label]="'Copy'">
          <i class="fa-regular fa-copy"></i>
        </button>
      </mat-form-field>
    </div>
  </div>
</div>
