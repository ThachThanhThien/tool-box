<app-page-header header="Password Generator"
                 description="Create strong and secure passwords to keep your account safe online"></app-page-header>

<div class="password-generator-container fade-in">
  <!-- Password Display Card -->
  <div class="password-card">
    <div class="password-display">
      <mat-form-field class="password-field w-100">
        <input matInput class="text-white" [value]="password" disabled spellcheck="false"/>
        <div matSuffix class="d-flex align-items-center">
          <button class="password-strength" disabled style="--bgColor: {{ passStrength.color || 'transparent' }}">
            {{ passStrength.name }}
          </button>
          <div class="action-buttons">
            <button mat-icon-button (click)="generatePassword()" [attr.aria-label]="'Generate'" title="Generate New Password">
              <i class="fa-solid fa-rotate-right"></i>
            </button>
            <button mat-icon-button (click)="copyString(password)" [attr.aria-label]="'Copy'" title="Copy to Clipboard">
              <i class="fa-regular fa-copy"></i>
            </button>
          </div>
        </div>
      </mat-form-field>
    </div>
  </div>

  <!-- Controls Section -->
  <div class="controls-section">
    <!-- Length Control -->
    <div class="control-group">
      <div class="control-title">
        <i class="fa-solid fa-ruler"></i>
        Password Length
      </div>
      <div class="length-control">
        <div class="length-value">{{ passwordLength }}</div>
        <mat-slider min="1" max="50" step="1" class="flex-grow-1">
          <input matSliderThumb [(ngModel)]="passwordLength" (ngModelChange)="generatePassword()">
        </mat-slider>
      </div>
    </div>

    <!-- Character Types -->
    <div class="control-group">
      <div class="control-title">
        <i class="fa-solid fa-font"></i>
        Character Types
      </div>
      <div class="checkbox-group">
        <mat-checkbox [(ngModel)]="hasUppercase" (ngModelChange)="generatePassword()">
          Uppercase (ABC)
        </mat-checkbox>
        <mat-checkbox [(ngModel)]="hasLowerCase" (ngModelChange)="generatePassword()">
          Lowercase (abc)
        </mat-checkbox>
        <mat-checkbox [(ngModel)]="hasNumber" (ngModelChange)="generatePassword()">
          Numbers (123)
        </mat-checkbox>
        <mat-checkbox [(ngModel)]="hasSpecialChar" (ngModelChange)="generatePassword()">
          Symbols ({{ '@#$' }})
        </mat-checkbox>
      </div>
    </div>
  </div>
</div>
