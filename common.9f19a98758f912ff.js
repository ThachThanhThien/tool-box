"use strict";(self.webpackChunktool_box=self.webpackChunktool_box||[]).push([[76],{61789:(f,d,n)=>{n.d(d,{y:()=>u});var o=n(54438),c=n(15752);const l=["canvas"];let u=(()=>{class h{constructor(){this.hue="",this.color=new o.bkB(!0),this.canvas={},this.width=400,this.height=200,this.mousedown=!1,this.selectedPosition={x:(0,c.U)(1,this.width),y:(0,c.U)(1,this.height)}}ngAfterViewInit(){this.draw()}draw(){if(!this.canvas.nativeElement)return;this.ctx||(this.ctx=this.canvas.nativeElement.getContext("2d"));const t=this.canvas.nativeElement.width,i=this.canvas.nativeElement.height;this.ctx.fillStyle=this.hue||"rgba(255,255,255,1)",this.ctx.fillRect(0,0,t,i);const e=this.ctx.createLinearGradient(0,0,t,0);e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=e,this.ctx.fillRect(0,0,t,i);const s=this.ctx.createLinearGradient(0,0,0,i);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),this.ctx.fillStyle=s,this.ctx.fillRect(0,0,t,i),this.selectedPosition&&(this.ctx.strokeStyle="white",this.ctx.fillStyle="white",this.ctx.beginPath(),this.ctx.arc(this.selectedPosition.x,this.selectedPosition.y,10,0,2*Math.PI),this.ctx.lineWidth=2,this.ctx.stroke())}ngOnChanges(t){if(t.hue){this.draw();const i=this.selectedPosition;i&&this.ctx&&this.color.emit(this.getColorAtPosition(i.x,i.y))}}onMouseUp(t){this.mousedown=!1}onMouseDown(t){this.mousedown=!0,this.selectedPosition={x:t.offsetX,y:t.offsetY},this.draw(),this.color.emit(this.getColorAtPosition(t.offsetX,t.offsetY))}onMouseMove(t){this.mousedown&&(this.selectedPosition={x:t.offsetX,y:t.offsetY},this.draw(),this.emitColor(t.offsetX,t.offsetY))}emitColor(t,i){const e=this.getColorAtPosition(t,i);this.color.emit(e)}getColorAtPosition(t,i){try{const e=this.ctx.getImageData(t=t>this.width?this.width:t<0?0:t,i=i>this.height?this.height:i<0?0:i,1,1).data;return[e[0],e[1],e[2]]}catch(e){throw e}}static{this.\u0275fac=function(i){return new(i||h)}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["app-color-palette"]],viewQuery:function(i,e){if(1&i&&o.GBs(l,5),2&i){let s;o.mGM(s=o.lsd())&&(e.canvas=s.first)}},hostBindings:function(i,e){1&i&&o.bIt("mouseup",function(a){return e.onMouseUp(a)},!1,o.tSv)},inputs:{hue:"hue"},outputs:{color:"color"},standalone:!0,features:[o.OA$,o.aNF],decls:2,vars:2,consts:[["canvas",""],[1,"color-palette",3,"mousedown","mousemove","width","height"]],template:function(i,e){if(1&i){const s=o.RV6();o.j41(0,"canvas",1,0),o.bIt("mousedown",function(r){return o.eBV(s),o.Njj(e.onMouseDown(r))})("mousemove",function(r){return o.eBV(s),o.Njj(e.onMouseMove(r))}),o.k0s()}2&i&&o.Y8G("width",e.width)("height",e.height)},styles:[".color-palette[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;display:block}"]})}}return h})()},32213:(f,d,n)=>{n.d(d,{u:()=>u});var o=n(54438),c=n(15752);const l=["canvas"];let u=(()=>{class h{constructor(){this.color=new o.bkB,this.mousedown=!1,this.selectedWidth=10,this.width=400,this.height=100,this.selectedCircleRadius=13,this.defaultPositionX=(0,c.U)(0,this.width),this.defaultPositionY=40}ngAfterViewInit(){this.selectedWidth=this.defaultPositionX,this.draw(),this.emitColor(this.defaultPositionX,this.defaultPositionY)}draw(){this.ctx||(this.ctx=this.canvas.nativeElement.getContext("2d"));const t=this.width,i=this.height;this.ctx.clearRect(0,0,t,i);const e=this.ctx.createLinearGradient(0,0,t,0);e.addColorStop(0,"rgba(255, 0, 0, 1)"),e.addColorStop(.17,"rgba(255, 255, 0, 1)"),e.addColorStop(.34,"rgba(0, 255, 0, 1)"),e.addColorStop(.51,"rgba(0, 255, 255, 1)"),e.addColorStop(.68,"rgba(0, 0, 255, 1)"),e.addColorStop(.85,"rgba(255, 0, 255, 1)"),e.addColorStop(1,"rgba(255, 0, 0, 1)"),this.ctx.beginPath(),this.ctx.roundRect(this.selectedCircleRadius,i/2-this.selectedCircleRadius,t-2*this.selectedCircleRadius,this.selectedCircleRadius,8),this.ctx.fillStyle=e,this.ctx.fill(),this.ctx.closePath(),this.selectedWidth&&(this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.arc(this.selectedWidth+5,i/2-this.selectedCircleRadius/2,this.selectedCircleRadius,0,2*Math.PI),this.ctx.fill(),this.ctx.strokeStyle="white",this.ctx.stroke(),this.ctx.closePath())}onMouseUp(t){this.mousedown=!1}onMouseDown(t){this.mousedown=!0,this.selectedWidth=t.offsetX,this.modifySelectedWidth(),this.draw(),this.emitColor(t.offsetX,t.offsetY)}onMouseMove(t){this.mousedown&&(this.selectedWidth=t.offsetX,this.modifySelectedWidth(),this.draw(),this.emitColor(t.offsetX,t.offsetY))}emitColor(t,i){const e=this.getColorAtPosition(t,40);this.color.emit(e)}getColorAtPosition(t,i){try{t>this.width-this.selectedCircleRadius&&(t=this.width-this.selectedCircleRadius),t<this.selectedCircleRadius&&(t=this.selectedCircleRadius);const e=this.ctx.getImageData(t,i,1,1).data;return"rgba("+e[0]+","+e[1]+","+e[2]+",1)"}catch(e){throw e}}modifySelectedWidth(){this.selectedWidth>this.width-2*this.selectedCircleRadius&&(this.selectedWidth=this.width-2*this.selectedCircleRadius),this.selectedWidth<this.selectedCircleRadius&&(this.selectedWidth=this.selectedCircleRadius)}static{this.\u0275fac=function(i){return new(i||h)}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["app-color-slider"]],viewQuery:function(i,e){if(1&i&&o.GBs(l,5),2&i){let s;o.mGM(s=o.lsd())&&(e.canvas=s.first)}},hostBindings:function(i,e){1&i&&o.bIt("mouseup",function(a){return e.onMouseUp(a)},!1,o.tSv)},outputs:{color:"color"},standalone:!0,features:[o.aNF],decls:2,vars:2,consts:[["canvas",""],[1,"color-slider",3,"mousedown","mousemove","width","height"]],template:function(i,e){if(1&i){const s=o.RV6();o.j41(0,"canvas",1,0),o.bIt("mousedown",function(r){return o.eBV(s),o.Njj(e.onMouseDown(r))})("mousemove",function(r){return o.eBV(s),o.Njj(e.onMouseMove(r))}),o.k0s()}2&i&&o.Y8G("width",e.width)("height",e.height)},styles:[".color-palette[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}}return h})()},15752:(f,d,n)=>{function o(l){navigator.clipboard.writeText(l||"").then()}function c(l,u){return Math.floor(Math.random()*(u-l+1))+l}n.d(d,{U:()=>c,l:()=>o})}}]);